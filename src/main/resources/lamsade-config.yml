# src/main/resources/local-config.yml
environment: "local"

# ============================================================================
# COMMON CONFIGURATION - Shared across all experiments
# ============================================================================
common:
  # Random seed for reproducibility across all experiments
  seed: 42

  data:
    basePath: "/students/p6emiasd2025/mchettih/data"
    flight :
      path: "/students/p6emiasd2025/mchettih/data/FLIGHT-3Y/Flights/*.csv"
    weather :
      path : "/students/p6emiasd2025/mchettih/data/FLIGHT-3Y/Weather/*.txt"
    airportMapping :
      path : "/students/p6emiasd2025/mchettih/data/FLIGHT-3Y/wban_airport_timezone.csv"

  output:
    basePath: "/output"

  mlflow:
    enabled: false
    trackingUri: "http://mlflow-server:5000"  # Utilise le nom du container et le port interne

# ============================================================================
# EXPERIMENTS - Each experiment has its own feature extraction and model config
# ============================================================================
experiments:

  # =========================================================================
  # Experiment 4:
  # Model : RandomForest
  # =========================================================================
  - name: "exp4_rf_pca_crossvalidation_gridsearch_label_is_delayed_15min"
    description: "Baseline Random Forest with hyperparameters tunning"
    enabled: true
    target: "label_is_delayed_15min"

    featureExtraction:
      type: pca
      pcaVarianceThreshold: 0.7

    model:
      modelType: "randomforest"

    train:
      trainRatio: 0.8

      crossValidation:
        numFolds: 5

      gridSearch:
        enabled: true
        evaluationMetric: "f1"

      hyperparameters:
        numTrees: [50]
        maxDepth: [5]
        maxBins: 32
        minInstancesPerNode: 1
        subsamplingRate: 1.0
        featureSubsetStrategy: "auto"
        impurity: "gini"

  # =========================================================================
  # Experiment 5:
  # Model : RandomForest
  # =========================================================================
  - name: "exp5_rf_pca_crossvalidation_gridsearch_label_is_delayed_30min"
    description: "Baseline Random Forest with hyperparameters tunning"
    enabled: true
    target: "label_is_delayed_30min"

    featureExtraction:
      type: pca
      pcaVarianceThreshold: 0.7

    model:
      modelType: "randomforest"

    train:
      trainRatio: 0.8

      crossValidation:
        numFolds: 5

      gridSearch:
        enabled: true
        evaluationMetric: "f1"

      hyperparameters:
        numTrees: [50]
        maxDepth: [5]
        maxBins: 32
        minInstancesPerNode: 1
        subsamplingRate: 1.0
        featureSubsetStrategy: "auto"
        impurity: "gini"

  # =========================================================================
  # Experiment 6:
  # Model : RandomForest
  # =========================================================================
  - name: "exp6_rf_pca_crossvalidation_gridsearch_label_is_delayed_45min"
    description: "Baseline Random Forest with hyperparameters tunning"
    enabled: true
    target: "label_is_delayed_45min"

    featureExtraction:
      type: pca
      pcaVarianceThreshold: 0.7

    model:
      modelType: "randomforest"

    train:
      trainRatio: 0.8

      crossValidation:
        numFolds: 5

      gridSearch:
        enabled: true
        evaluationMetric: "f1"

      hyperparameters:
        numTrees: [50]
        maxDepth: [5]
        maxBins: 32
        minInstancesPerNode: 1
        subsamplingRate: 1.0
        featureSubsetStrategy: "auto"
        impurity: "gini"

  # =========================================================================
  # Experiment 7:
  # Model : RandomForest
  # =========================================================================
  - name: "exp7_rf_pca_crossvalidation_gridsearch_label_is_delayed_60min"
    description: "Baseline Random Forest with hyperparameters tunning"
    enabled: true
    target: "label_is_delayed_60min"

    featureExtraction:
      type: pca
      pcaVarianceThreshold: 0.7

    model:
      modelType: "randomforest"

    train:
      trainRatio: 0.8

      crossValidation:
        numFolds: 5

      gridSearch:
        enabled: true
        evaluationMetric: "f1"

      hyperparameters:
        numTrees: [50]
        maxDepth: [5]
        maxBins: 32
        minInstancesPerNode: 1
        subsamplingRate: 1.0
        featureSubsetStrategy: "auto"
        impurity: "gini"